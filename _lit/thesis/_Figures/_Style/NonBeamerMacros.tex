%%%%%%%%%%%%%%%%%%%%%%%
%% Non-Beamer Macros %%
%%%%%%%%%%%%%%%%%%%%%%%
\newcounter{mynote}


\NewDocumentEnvironment{mynote}{ O{} }
{
\newtcolorbox[use counter=mynote]{testexamplebox}{%
    % Example Frame Start
    empty,% Empty previously set parameters
    title={Note~#1\\},% use \thetcbcounter to access the testexample counter text
    % Attaching a box requires an overlay
    attach boxed title to top left,
       % Ensures proper line breaking in longer titles
       minipage boxed title,
    % (boxed title style requires an overlay)
    boxed title style={empty,size=minimal,toprule=0pt,top=4pt,left=3mm,overlay={}},
    coltitle=mynotecolor,fonttitle=\bfseries,
    before=\par\medskip\noindent,parbox=false,boxsep=0pt,left=3mm,right=0mm,top=2pt,breakable,pad at break=0mm,
       before upper=\csname @totalleftmargin\endcsname0pt, % Use instead of parbox=true. This ensures parskip is inherited by box.
    % Handles box when it exists on one page only
    overlay unbroken={\draw[mynotecolor,line width=.5pt, decorate, decoration={snake, amplitude=2}] ([xshift=-0pt]title.north west) -- ([xshift=-0pt]frame.south west); },
    % Handles multipage box: first page
    overlay first={\draw[mynotecolor,line width=.5pt, decorate, decoration={snake, amplitude=2}] ([xshift=-0pt]title.north west) -- ([xshift=-0pt]frame.south west); },
    % Handles multipage box: middle page
    overlay middle={\draw[mynotecolor,line width=.5pt, decorate, decoration={snake, amplitude=2}] ([xshift=-0pt]frame.north west) -- ([xshift=-0pt]frame.south west); },
    % Handles multipage box: last page
    overlay last={\draw[mynotecolor,line width=.5pt, decorate, decoration={snake, amplitude=2}] ([xshift=-0pt]frame.north west) -- ([xshift=-0pt]frame.south west); },%
    }
\begin{testexamplebox}}
{\end{testexamplebox}\endlist}

